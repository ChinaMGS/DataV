{"version":3,"file":"public/js/10.e07ff7c9a54ef2bff00a.js","sources":["webpack:///src/views/thermodynamicDiagram/index.vue"],"sourcesContent":["<!-- 散点气泡图 -->\r\n\r\n<template>\r\n  <div class=\"demo\">\r\n    <div class=\"box\">\r\n      <h3>日历热力图</h3>\r\n      <div id=\"container\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Heatmap, G2 } from '@antv/g2plot'\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      data: [\r\n        { date: '2017-05-01', commits: 1, month: 4, day: 1, week: '0' },\r\n        { date: '2017-05-02', commits: 1, month: 4, day: 2, week: '0' },\r\n        { date: '2017-05-03', commits: 1, month: 4, day: 3, week: '0' },\r\n        { date: '2017-05-04', commits: 1, month: 4, day: 4, week: '0' },\r\n        { date: '2017-05-05', commits: 1, month: 4, day: 5, week: '0' },\r\n        { date: '2017-05-06', commits: 1, month: 4, day: 6, week: '0' },\r\n        { date: '2017-05-07', commits: 1, month: 4, day: 0, week: '1' },\r\n        { date: '2017-05-08', commits: 1, month: 4, day: 1, week: '1' },\r\n        { date: '2017-05-09', commits: 1, month: 4, day: 2, week: '1' },\r\n        { date: '2017-05-10', commits: 1, month: 4, day: 3, week: '1' },\r\n        { date: '2017-05-11', commits: 1, month: 4, day: 4, week: '1' },\r\n        { date: '2017-05-12', commits: 1, month: 4, day: 5, week: '1' },\r\n        { date: '2017-05-13', commits: 1, month: 4, day: 6, week: '1' },\r\n        { date: '2017-05-14', commits: 1, month: 4, day: 0, week: '2' },\r\n        { date: '2017-05-15', commits: 1, month: 4, day: 1, week: '2' },\r\n        { date: '2017-05-16', commits: 1, month: 4, day: 2, week: '2' },\r\n        { date: '2017-05-17', commits: 1, month: 4, day: 3, week: '2' },\r\n        { date: '2017-05-18', commits: 1, month: 4, day: 4, week: '2' },\r\n        { date: '2017-05-19', commits: 1, month: 4, day: 5, week: '2' },\r\n        { date: '2017-05-20', commits: 1, month: 4, day: 6, week: '2' },\r\n        { date: '2017-05-21', commits: 1, month: 4, day: 0, week: '3' },\r\n        { date: '2017-05-22', commits: 1, month: 4, day: 1, week: '3' },\r\n        { date: '2017-05-23', commits: 1, month: 4, day: 2, week: '3' },\r\n        { date: '2017-05-24', commits: 1, month: 4, day: 3, week: '3' },\r\n        { date: '2017-05-25', commits: 1, month: 4, day: 4, week: '3', lastWeek: true },\r\n        { date: '2017-05-26', commits: 1, month: 4, day: 5, week: '3', lastWeek: true },\r\n        { date: '2017-05-27', commits: 1, month: 4, day: 6, week: '3', lastWeek: true },\r\n        { date: '2017-05-28', commits: 1, month: 4, day: 0, week: '4', lastWeek: true },\r\n        { date: '2017-05-29', commits: 1, month: 4, day: 1, week: '4', lastWeek: true },\r\n        { date: '2017-05-30', commits: 1, month: 4, day: 2, week: '4', lastWeek: true },\r\n        {\r\n          date: '2017-05-31',\r\n          commits: 1,\r\n          month: 4,\r\n          day: 3,\r\n          week: '4',\r\n          lastWeek: true,\r\n          lastDay: true\r\n        },\r\n        { date: '2017-06-01', commits: 1, month: 5, day: 4, week: '4' },\r\n        { date: '2017-06-02', commits: 1, month: 5, day: 5, week: '4' },\r\n        { date: '2017-06-03', commits: 1, month: 5, day: 6, week: '4' },\r\n        { date: '2017-06-04', commits: 1, month: 5, day: 0, week: '5' },\r\n        { date: '2017-06-05', commits: 1, month: 5, day: 1, week: '5' },\r\n        { date: '2017-06-06', commits: 1, month: 5, day: 2, week: '5' },\r\n        { date: '2017-06-07', commits: 1, month: 5, day: 3, week: '5' },\r\n        { date: '2017-06-08', commits: 1, month: 5, day: 4, week: '5' },\r\n        { date: '2017-06-09', commits: 1, month: 5, day: 5, week: '5' },\r\n        { date: '2017-06-10', commits: 1, month: 5, day: 6, week: '5' },\r\n        { date: '2017-06-11', commits: 1, month: 5, day: 0, week: '6' },\r\n        { date: '2017-06-12', commits: 1, month: 5, day: 1, week: '6' },\r\n        { date: '2017-06-13', commits: 1, month: 5, day: 2, week: '6' },\r\n        { date: '2017-06-14', commits: 1, month: 5, day: 3, week: '6' },\r\n        { date: '2017-06-15', commits: 1, month: 5, day: 4, week: '6' },\r\n        { date: '2017-06-16', commits: 1, month: 5, day: 5, week: '6' },\r\n        { date: '2017-06-17', commits: 1, month: 5, day: 6, week: '6' },\r\n        { date: '2017-06-18', commits: 1, month: 5, day: 0, week: '7' },\r\n        { date: '2017-06-19', commits: 1, month: 5, day: 1, week: '7' },\r\n        { date: '2017-06-20', commits: 1, month: 5, day: 2, week: '7' },\r\n        { date: '2017-06-21', commits: 2, month: 5, day: 3, week: '7' },\r\n        { date: '2017-06-22', commits: 6, month: 5, day: 4, week: '7' },\r\n        { date: '2017-06-23', commits: 9, month: 5, day: 5, week: '7' },\r\n        { date: '2017-06-24', commits: 3, month: 5, day: 6, week: '7', lastWeek: true },\r\n        { date: '2017-06-25', commits: 3, month: 5, day: 0, week: '8', lastWeek: true },\r\n        { date: '2017-06-26', commits: 1, month: 5, day: 1, week: '8', lastWeek: true },\r\n        { date: '2017-06-27', commits: 7, month: 5, day: 2, week: '8', lastWeek: true },\r\n        { date: '2017-06-28', commits: 7, month: 5, day: 3, week: '8', lastWeek: true },\r\n        { date: '2017-06-29', commits: 12, month: 5, day: 4, week: '8', lastWeek: true },\r\n        {\r\n          date: '2017-06-30',\r\n          commits: 9,\r\n          month: 5,\r\n          day: 5,\r\n          week: '8',\r\n          lastWeek: true,\r\n          lastDay: true\r\n        },\r\n        { date: '2017-07-01', commits: 4, month: 6, day: 6, week: '8' },\r\n        { date: '2017-07-02', commits: 1, month: 6, day: 0, week: '9' },\r\n        { date: '2017-07-03', commits: 2, month: 6, day: 1, week: '9' },\r\n        { date: '2017-07-04', commits: 7, month: 6, day: 2, week: '9' },\r\n        { date: '2017-07-05', commits: 6, month: 6, day: 3, week: '9' },\r\n        { date: '2017-07-06', commits: 1, month: 6, day: 4, week: '9' },\r\n        { date: '2017-07-07', commits: 6, month: 6, day: 5, week: '9' },\r\n        { date: '2017-07-08', commits: 1, month: 6, day: 6, week: '9' },\r\n        { date: '2017-07-09', commits: 1, month: 6, day: 0, week: '10' },\r\n        { date: '2017-07-10', commits: 1, month: 6, day: 1, week: '10' },\r\n        { date: '2017-07-11', commits: 8, month: 6, day: 2, week: '10' },\r\n        { date: '2017-07-12', commits: 5, month: 6, day: 3, week: '10' },\r\n        { date: '2017-07-13', commits: 7, month: 6, day: 4, week: '10' },\r\n        { date: '2017-07-14', commits: 4, month: 6, day: 5, week: '10' },\r\n        { date: '2017-07-15', commits: 4, month: 6, day: 6, week: '10' },\r\n        { date: '2017-07-16', commits: 2, month: 6, day: 0, week: '11' },\r\n        { date: '2017-07-17', commits: 1, month: 6, day: 1, week: '11' },\r\n        { date: '2017-07-18', commits: 10, month: 6, day: 2, week: '11' },\r\n        { date: '2017-07-19', commits: 14, month: 6, day: 3, week: '11' },\r\n        { date: '2017-07-20', commits: 6, month: 6, day: 4, week: '11' },\r\n        { date: '2017-07-21', commits: 1, month: 6, day: 5, week: '11' },\r\n        { date: '2017-07-22', commits: 6, month: 6, day: 6, week: '11' },\r\n        { date: '2017-07-23', commits: 1, month: 6, day: 0, week: '12' },\r\n        { date: '2017-07-24', commits: 1, month: 6, day: 1, week: '12' },\r\n        { date: '2017-07-25', commits: 1, month: 6, day: 2, week: '12', lastWeek: true },\r\n        { date: '2017-07-26', commits: 1, month: 6, day: 3, week: '12', lastWeek: true },\r\n        { date: '2017-07-27', commits: 9, month: 6, day: 4, week: '12', lastWeek: true },\r\n        { date: '2017-07-28', commits: 1, month: 6, day: 5, week: '12', lastWeek: true },\r\n        { date: '2017-07-29', commits: 15, month: 6, day: 6, week: '12', lastWeek: true },\r\n        { date: '2017-07-30', commits: 1, month: 6, day: 0, week: '13', lastWeek: true },\r\n        {\r\n          date: '2017-07-31',\r\n          commits: 1,\r\n          month: 6,\r\n          day: 1,\r\n          week: '13',\r\n          lastWeek: true,\r\n          lastDay: true\r\n        },\r\n        { date: '2017-08-01', commits: 15, month: 7, day: 2, week: '13' },\r\n        { date: '2017-08-02', commits: 11, month: 7, day: 3, week: '13' },\r\n        { date: '2017-08-03', commits: 3, month: 7, day: 4, week: '13' },\r\n        { date: '2017-08-04', commits: 6, month: 7, day: 5, week: '13' },\r\n        { date: '2017-08-05', commits: 1, month: 7, day: 6, week: '13' },\r\n        { date: '2017-08-06', commits: 4, month: 7, day: 0, week: '14' },\r\n        { date: '2017-08-07', commits: 1, month: 7, day: 1, week: '14' },\r\n        { date: '2017-08-08', commits: 10, month: 7, day: 2, week: '14' },\r\n        { date: '2017-08-09', commits: 11, month: 7, day: 3, week: '14' },\r\n        { date: '2017-08-10', commits: 8, month: 7, day: 4, week: '14' },\r\n        { date: '2017-08-11', commits: 12, month: 7, day: 5, week: '14' },\r\n        { date: '2017-08-12', commits: 8, month: 7, day: 6, week: '14' },\r\n        { date: '2017-08-13', commits: 2, month: 7, day: 0, week: '15' },\r\n        { date: '2017-08-14', commits: 1, month: 7, day: 1, week: '15' },\r\n        { date: '2017-08-15', commits: 18, month: 7, day: 2, week: '15' },\r\n        { date: '2017-08-16', commits: 21, month: 7, day: 3, week: '15' },\r\n        { date: '2017-08-17', commits: 7, month: 7, day: 4, week: '15' },\r\n        { date: '2017-08-18', commits: 10, month: 7, day: 5, week: '15' },\r\n        { date: '2017-08-19', commits: 8, month: 7, day: 6, week: '15' },\r\n        { date: '2017-08-20', commits: 1, month: 7, day: 0, week: '16' },\r\n        { date: '2017-08-21', commits: 1, month: 7, day: 1, week: '16' },\r\n        { date: '2017-08-22', commits: 1, month: 7, day: 2, week: '16' },\r\n        { date: '2017-08-23', commits: 7, month: 7, day: 3, week: '16' },\r\n        { date: '2017-08-24', commits: 11, month: 7, day: 4, week: '16' },\r\n        { date: '2017-08-25', commits: 3, month: 7, day: 5, week: '16', lastWeek: true },\r\n        { date: '2017-08-26', commits: 3, month: 7, day: 6, week: '16', lastWeek: true },\r\n        { date: '2017-08-27', commits: 1, month: 7, day: 0, week: '17', lastWeek: true },\r\n        { date: '2017-08-28', commits: 2, month: 7, day: 1, week: '17', lastWeek: true },\r\n        { date: '2017-08-29', commits: 7, month: 7, day: 2, week: '17', lastWeek: true },\r\n        { date: '2017-08-30', commits: 20, month: 7, day: 3, week: '17', lastWeek: true },\r\n        {\r\n          date: '2017-08-31',\r\n          commits: 15,\r\n          month: 7,\r\n          day: 4,\r\n          week: '17',\r\n          lastWeek: true,\r\n          lastDay: true\r\n        },\r\n        { date: '2017-09-01', commits: 1, month: 8, day: 5, week: '17' },\r\n        { date: '2017-09-02', commits: 4, month: 8, day: 6, week: '17' },\r\n        { date: '2017-09-03', commits: 1, month: 8, day: 0, week: '18' },\r\n        { date: '2017-09-04', commits: 1, month: 8, day: 1, week: '18' },\r\n        { date: '2017-09-05', commits: 8, month: 8, day: 2, week: '18' },\r\n        { date: '2017-09-06', commits: 6, month: 8, day: 3, week: '18' },\r\n        { date: '2017-09-07', commits: 5, month: 8, day: 4, week: '18' },\r\n        { date: '2017-09-08', commits: 1, month: 8, day: 5, week: '18' },\r\n        { date: '2017-09-09', commits: 25, month: 8, day: 6, week: '18' },\r\n        { date: '2017-09-10', commits: 1, month: 8, day: 0, week: '19' },\r\n        { date: '2017-09-11', commits: 1, month: 8, day: 1, week: '19' },\r\n        { date: '2017-09-12', commits: 1, month: 8, day: 2, week: '19' },\r\n        { date: '2017-09-13', commits: 9, month: 8, day: 3, week: '19' },\r\n        { date: '2017-09-14', commits: 1, month: 8, day: 4, week: '19' },\r\n        { date: '2017-09-15', commits: 1, month: 8, day: 5, week: '19' },\r\n        { date: '2017-09-16', commits: 4, month: 8, day: 6, week: '19' },\r\n        { date: '2017-09-17', commits: 1, month: 8, day: 0, week: '20' },\r\n        { date: '2017-09-18', commits: 1, month: 8, day: 1, week: '20' },\r\n        { date: '2017-09-19', commits: 4, month: 8, day: 2, week: '20' },\r\n        { date: '2017-09-20', commits: 8, month: 8, day: 3, week: '20' },\r\n        { date: '2017-09-21', commits: 10, month: 8, day: 4, week: '20' },\r\n        { date: '2017-09-22', commits: 9, month: 8, day: 5, week: '20' },\r\n        { date: '2017-09-23', commits: 5, month: 8, day: 6, week: '20' },\r\n        { date: '2017-09-24', commits: 1, month: 8, day: 0, week: '21', lastWeek: true },\r\n        { date: '2017-09-25', commits: 1, month: 8, day: 1, week: '21', lastWeek: true },\r\n        { date: '2017-09-26', commits: 1, month: 8, day: 2, week: '21', lastWeek: true },\r\n        { date: '2017-09-27', commits: 7, month: 8, day: 3, week: '21', lastWeek: true },\r\n        { date: '2017-09-28', commits: 13, month: 8, day: 4, week: '21', lastWeek: true },\r\n        { date: '2017-09-29', commits: 1, month: 8, day: 5, week: '21', lastWeek: true },\r\n        { date: '2017-09-30', commits: 7, month: 8, day: 6, week: '21', lastWeek: true },\r\n        { date: '2017-10-01', commits: 1, month: 9, day: 0, week: '22' },\r\n        { date: '2017-10-02', commits: 1, month: 9, day: 1, week: '22' },\r\n        { date: '2017-10-03', commits: 7, month: 9, day: 2, week: '22' },\r\n        { date: '2017-10-04', commits: 2, month: 9, day: 3, week: '22' },\r\n        { date: '2017-10-05', commits: 14, month: 9, day: 4, week: '22' },\r\n        { date: '2017-10-06', commits: 9, month: 9, day: 5, week: '22' },\r\n        { date: '2017-10-07', commits: 12, month: 9, day: 6, week: '22' },\r\n        { date: '2017-10-08', commits: 1, month: 9, day: 0, week: '23' },\r\n        { date: '2017-10-09', commits: 1, month: 9, day: 1, week: '23' },\r\n        { date: '2017-10-10', commits: 13, month: 9, day: 2, week: '23' },\r\n        { date: '2017-10-11', commits: 12, month: 9, day: 3, week: '23' },\r\n        { date: '2017-10-12', commits: 1, month: 9, day: 4, week: '23' },\r\n        { date: '2017-10-13', commits: 1, month: 9, day: 5, week: '23' },\r\n        { date: '2017-10-14', commits: 1, month: 9, day: 6, week: '23' },\r\n        { date: '2017-10-15', commits: 1, month: 9, day: 0, week: '24' },\r\n        { date: '2017-10-16', commits: 1, month: 9, day: 1, week: '24' },\r\n        { date: '2017-10-17', commits: 1, month: 9, day: 2, week: '24' },\r\n        { date: '2017-10-18', commits: 1, month: 9, day: 3, week: '24' },\r\n        { date: '2017-10-19', commits: 1, month: 9, day: 4, week: '24' },\r\n        { date: '2017-10-20', commits: 1, month: 9, day: 5, week: '24' },\r\n        { date: '2017-10-21', commits: 1, month: 9, day: 6, week: '24' },\r\n        { date: '2017-10-22', commits: 1, month: 9, day: 0, week: '25' },\r\n        { date: '2017-10-23', commits: 1, month: 9, day: 1, week: '25' },\r\n        { date: '2017-10-24', commits: 10, month: 9, day: 2, week: '25' },\r\n        { date: '2017-10-25', commits: 4, month: 9, day: 3, week: '25' },\r\n        { date: '2017-10-26', commits: 7, month: 9, day: 4, week: '25' },\r\n        { date: '2017-10-27', commits: 3, month: 9, day: 5, week: '25' },\r\n        { date: '2017-10-28', commits: 14, month: 9, day: 6, week: '25' },\r\n        { date: '2017-10-29', commits: 1, month: 9, day: 0, week: '26' },\r\n        { date: '2017-10-30', commits: 1, month: 9, day: 1, week: '26' },\r\n        { date: '2017-10-31', commits: 5, month: 9, day: 2, week: '26', lastDay: true }\r\n      ]\r\n    }\r\n  },\r\n  mounted() {\r\n    // 在 mounted 中构建，防止created 中无法获取标签元素\r\n    G2.registerShape('polygon', 'boundary-polygon', {\r\n      draw(cfg, container) {\r\n        const group = container.addGroup()\r\n        const attrs = {\r\n          stroke: '#fff',\r\n          lineWidth: 1,\r\n          fill: cfg.color,\r\n          paht: []\r\n        }\r\n        const points = cfg.points\r\n        const path = [\r\n          ['M', points[0].x, points[0].y],\r\n          ['L', points[1].x, points[1].y],\r\n          ['L', points[2].x, points[2].y],\r\n          ['L', points[3].x, points[3].y],\r\n          ['Z']\r\n        ]\r\n        // @ts-ignore\r\n        attrs.path = this.parsePath(path)\r\n        group.addShape('path', {\r\n          attrs\r\n        })\r\n\r\n        if (cfg.data.lastWeek) {\r\n          const linePath = [['M', points[2].x, points[2].y], ['L', points[3].x, points[3].y]]\r\n          // 最后一周的多边形添加右侧边框\r\n          group.addShape('path', {\r\n            attrs: {\r\n              path: this.parsePath(linePath),\r\n              lineWidth: 4,\r\n              stroke: '#404040'\r\n            }\r\n          })\r\n          if (cfg.data.lastDay) {\r\n            group.addShape('path', {\r\n              attrs: {\r\n                path: this.parsePath([\r\n                  ['M', points[1].x, points[1].y],\r\n                  ['L', points[2].x, points[2].y]\r\n                ]),\r\n                lineWidth: 4,\r\n                stroke: '#404040'\r\n              }\r\n            })\r\n          }\r\n        }\r\n        return group\r\n      }\r\n    })\r\n\r\n    const data = this.data\r\n    const heatmapPlot = new Heatmap(document.getElementById('container'), {\r\n      data,\r\n      height: 400,\r\n      autoFit: false,\r\n      xField: 'week',\r\n      yField: 'day',\r\n      colorField: 'commits',\r\n      color: '#BAE7FF-#1890FF-#0050B3',\r\n      reflect: 'y',\r\n      shape: 'boundary-polygon',\r\n      meta: {\r\n        day: {\r\n          type: 'cat',\r\n          values: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n        },\r\n        week: {\r\n          type: 'cat'\r\n        },\r\n        commits: {\r\n          sync: true\r\n        },\r\n        date: {\r\n          type: 'cat'\r\n        }\r\n      },\r\n      yAxis: {\r\n        grid: null\r\n      },\r\n      tooltip: {\r\n        title: 'date',\r\n        showMarkers: false\r\n      },\r\n      interactions: [{ type: 'element-active' }],\r\n      xAxis: {\r\n        position: 'top',\r\n        tickLine: null,\r\n        line: null,\r\n        label: {\r\n          offset: 12,\r\n          style: {\r\n            fontSize: 12,\r\n            fill: '#666',\r\n            textBaseline: 'top'\r\n          },\r\n          formatter: val => {\r\n            if (val === '2') {\r\n              return 'MAY'\r\n            } else if (val === '6') {\r\n              return 'JUN'\r\n            } else if (val === '10') {\r\n              return 'JUL'\r\n            } else if (val === '15') {\r\n              return 'AUG'\r\n            } else if (val === '19') {\r\n              return 'SEP'\r\n            } else if (val === '24') {\r\n              return 'OCT'\r\n            }\r\n            return ''\r\n          }\r\n        }\r\n      }\r\n    })\r\n    heatmapPlot.render()\r\n  },\r\n  methods: {},\r\n  created() {\r\n    // var wrapperElement = '<div style=position:relative;></div>'\r\n    // console.log(document.getElementById('container'))\r\n    // document.getElementById('container').appendChild(wrapperElement)\r\n    // setTimeout(() => {\r\n    // }, 2000)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.demo {\r\n  display: flex;\r\n  flex-flow: wrap;\r\n\r\n  .box {\r\n    box-shadow: 0px 2px 25px 0px rgba(133, 153, 181, 0.2);\r\n    border-radius: 10px;\r\n    display: inline-block;\r\n    padding: 0 20px 20px;\r\n    margin: 20px;\r\n\r\n    h3 {\r\n      line-height: 50px;\r\n      height: 50px;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  #container {\r\n    display: block;\r\n    width: 500px;\r\n    height: 400px;\r\n  }\r\n\r\n  #containerG2 {\r\n    display: block;\r\n    width: 500px;\r\n    height: 300px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/thermodynamicDiagram/index.vue"],"mappings":"AAcA","sourceRoot":""}